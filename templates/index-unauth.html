{% load static %}
{% load socialaccount %}
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Snowglass</title>

  <style>
    :root{
      --glass: rgba(255,255,255,.10);
      --glass2: rgba(255,255,255,.06);
      --border: rgba(255,255,255,.16);
      --border2: rgba(255,255,255,.10);
      --text: rgba(255,255,255,.94);
      --muted: rgba(255,255,255,.72);
      --muted2: rgba(255,255,255,.55);
      --shadow: 0 18px 60px rgba(0,0,0,.35);
      --shadow2: 0 10px 30px rgba(0,0,0,.22);
      --blue: rgba(10,132,255,.95);
      --cyan: rgba(34,197,255,.95);
      --focus: rgba(120,214,255,.55);
    }

    *{box-sizing:border-box}
    html,body{height:100%; scroll-behavior:smooth;}
    body{
      margin:0;
      font-family:-apple-system,BlinkMacSystemFont,'SF Pro Display','Segoe UI',sans-serif;
      color:var(--text);
      overflow-x:hidden;
      overflow-y:auto;
      background:#040814;
    }

    /* wallpaper */
    .wallpaper{
      position:fixed; inset:0; z-index:-3;
      background-image:url("{% static 'img/wallpaper.webp' %}");
      background-size:cover;
      background-position:center;
      background-color: rgba(0, 8, 24, .35);
      background-blend-mode: multiply;
      filter:saturate(1.12) contrast(1.06);
    }
    /* subtle vignette */
    .vignette{
      position:fixed; inset:-18%; z-index:-2;
      background:
        radial-gradient(circle at 50% 30%, rgba(255,255,255,.12), rgba(0,0,0,.62) 70%),
        radial-gradient(circle at 20% 80%, rgba(120,214,255,.08), transparent 60%),
        radial-gradient(circle at 85% 70%, rgba(120,156,255,.06), transparent 55%);
      pointer-events:none;
    }
    .glow{
      position:fixed; inset:0; z-index:-1;
      pointer-events:none;
      background:
        radial-gradient(900px 600px at 55% 40%, rgba(120,214,255,.12), transparent 60%),
        radial-gradient(700px 520px at 45% 58%, rgba(120,156,255,.10), transparent 62%);
      opacity:.9;
      filter: blur(0.2px);
    }

    .wrap{
      height:100%;
      display:flex;
      flex-direction:column;
      padding:22px;
      gap:18px;
    }

    .glass{
      background: linear-gradient(180deg, rgba(255,255,255,.11), rgba(255,255,255,.06));
      border:1px solid var(--border);
      border-radius:18px;
      box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,.12);
      backdrop-filter: blur(42px) saturate(175%);
      -webkit-backdrop-filter: blur(42px) saturate(175%);
    }

    /* top nav */
    .nav{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding:14px 18px;
      gap:14px;
      position:relative;
    }
    .nav::after{
      content:"";
      position:absolute;
      left:16px; right:16px; bottom:-1px;
      height:1px;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.10), transparent);
      opacity:.9;
    }
    .brand{
      display:flex;
      align-items:center;
      gap:10px;
      font-weight:850;
      letter-spacing:-.35px;
      font-size:18px;
      user-select:none;
    }
    .brand .dot{
      width:10px;height:10px;border-radius:999px;
      background: linear-gradient(135deg, rgba(34,197,255,.95), rgba(37,99,235,.95));
      box-shadow: 0 8px 22px rgba(10,132,255,.35);
    }

    .nav-right{
      display:flex;
      align-items:center;
      gap:10px;
    }
    .nav-link{
      color:rgba(255,255,255,.75);
      text-decoration:none;
      font-weight:600;
      font-size:13px;
      padding:8px 10px;
      border-radius:12px;
      transition: all .18s ease;
    }
    .nav-link:hover{ background: rgba(255,255,255,.08); color: rgba(255,255,255,.92); }

    .btn{
      border:none;
      cursor:pointer;
      font-weight:700;
      font-size:13px;
      padding:9px 14px;
      border-radius:999px;
      transition: transform .18s ease, box-shadow .18s ease, background .18s ease, opacity .18s ease;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      user-select:none;
    }
    .btn:hover{ transform: translateY(-1px); }

    .btn-primary{
      color:white;
      background: linear-gradient(135deg, rgba(34,197,255,.95), rgba(37,99,235,.95));
      box-shadow: 0 10px 30px rgba(10,132,255,.28);
    }
    .btn-secondary{
      color:rgba(255,255,255,.88);
      background: rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.14);
    }

    /* hero (full-bleed, no glass panel) */
    .hero{
      flex:1;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:16px;
      position:relative;
      min-height: calc(100vh - 120px);
    }
    .hero-inner{
      width:min(980px, 100%);
      padding:10px 0;
      text-align:center;
      position:relative;
    }
    .hero::before{
      content:"";
      position:absolute;
      inset:0;
      pointer-events:none;
      background:
        radial-gradient(1100px 520px at 50% 28%, rgba(120,214,255,.18), transparent 62%),
        radial-gradient(900px 520px at 50% 70%, rgba(120,156,255,.10), transparent 60%);
      opacity:.9;
    }
    @media (max-width: 860px){
      .hero{ padding:10px; }
      .hero-inner{ width:min(720px, 100%); }
    }
    .scroll-cue{
      margin-top:44px;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      width:44px;
      height:44px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(255,255,255,.06);
      box-shadow: 0 10px 28px rgba(0,0,0,.25);
      color: rgba(255,255,255,.85);
      transition: transform .18s ease, opacity .18s ease, background .18s ease;
      opacity:.9;
      text-decoration:none;
    }
    .scroll-cue:hover{ transform: translateY(-2px); background: rgba(255,255,255,.09); }
    .scroll-cue svg{ width:18px;height:18px; }

    .section{
      width:min(980px, 100%);
      margin: 0 auto;
      padding: 0 0 18px;
    }

    .auth-card{
      margin-top: 10px;
      padding: 22px 22px 20px;
      border-radius: 22px;
      background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.055));
      border: 1px solid rgba(255,255,255,.14);
      box-shadow: var(--shadow2), inset 0 1px 0 rgba(255,255,255,.10);
      backdrop-filter: blur(34px) saturate(170%);
      -webkit-backdrop-filter: blur(34px) saturate(170%);
    }

    .auth-grid{
      display:grid;
      grid-template-columns: 1fr auto;
      gap: 18px;
      align-items: center;
    }
    @media (max-width: 860px){
      .auth-grid{ grid-template-columns: 1fr; gap: 14px; }
    }

    .auth-title{
      font-family: "SF Pro Rounded","SF Pro Display",-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
      font-size: 22px;
      font-weight: 900;
      letter-spacing: -.55px;
      margin: 0 0 6px;
      line-height: 1.1;
    }

    .auth-sub{
      margin:0;
      color: rgba(255,255,255,.70);
      font-size: 13px;
      line-height: 1.45;
      max-width: 44ch;
    }

    .auth-actions{
      display:flex;
      flex-direction: column;
      gap: 10px;
      width: min(460px, 100%);
      justify-self: end;
    }

    .btn-google{
      background: rgba(255,255,255,.10);
      border: 1px solid rgba(255,255,255,.16);
      color: rgba(255,255,255,.92);
      box-shadow: 0 10px 26px rgba(0,0,0,.18);
    }
    .btn-google:hover{ background: rgba(255,255,255,.14); }

    .btn-google svg{ width:16px;height:16px; }

    .auth-actions .btn{
      width: 100%;
      padding: 12px 14px;
      border-radius: 999px;
      font-size: 14px;
      letter-spacing: -.15px;
    }
    .auth-actions .btn svg{ flex: 0 0 auto; }

    .fineprint{
      margin-top: 10px;
      color: rgba(255,255,255,.52);
      font-size: 11px;
    }
    .title{
      margin:0;
      font-size: clamp(54px, 7vw, 92px);
      letter-spacing:-1.8px;
      line-height:1.02;
      background: linear-gradient(90deg, rgba(255,255,255,.95), rgba(120,214,255,.92), rgba(120,156,255,.92));
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
    }
    .subtitle{
      margin:14px auto 26px;
      max-width: 560px;
      font-size:18px;
      color: rgba(255,255,255,.72);
    }
    .cta{
      display:flex;
      gap:14px;
      justify-content:center;
      flex-wrap:wrap;
    }

    /* tiny snow toggle (icon-only, no text) */
    .icon-btn{
      width:34px;height:34px;
      display:inline-flex;
      align-items:center;
      justify-content:center;
      border-radius:999px;
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.12);
      color: rgba(255,255,255,.92);
      cursor:pointer;
      opacity:.35;
      transition: opacity .18s ease, transform .18s ease, box-shadow .18s ease, background .18s ease;
    }
    .icon-btn:hover{ opacity:.70; transform: translateY(-1px); }
    .icon-btn.is-on{
      opacity:.75;
      background: rgba(255,255,255,.10);
      border-color: rgba(255,255,255,.18);
      box-shadow: 0 10px 26px rgba(255,255,255,.10), 0 0 0 2px rgba(255,255,255,.06) inset;
    }
    .icon-btn.is-off{ opacity:.22; filter: grayscale(1); }
    .icon-btn svg{ width:16px;height:16px; display:block; }

    /* mobile */
    @media (max-width: 560px){
      .hero-inner{ padding:34px 18px; }
      .nav{ padding:12px 14px; }
    }
  </style>
</head>

<body>
  <div class="wallpaper"></div>
  <div class="vignette"></div>
  <div class="glow"></div>

  <!-- snow (behind UI) -->
  <script src="{% static 'js/snow.js' %}"></script>

    <div class="wrap">
    <div class="glass nav">
      <div class="brand">
        <span class="dot"></span>
        <div style="display:flex; flex-direction:column; line-height:1.05;">
          <span style="margin-bottom:5px">Snowglass</span>
          <span style="font-size:11px; font-weight:650; color:rgba(255,255,255,.55); letter-spacing:-.2px;">Calendar & habits in liquid glass</span>
        </div>
      </div>

      <div class="nav-right">
        <button class="icon-btn" id="snowToggleBtn" type="button" aria-label="Toggle snow">
          <!-- premium snowflake icon -->
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path d="M12 2v20" stroke="currentColor" stroke-width="1.9" stroke-linecap="round"/>
            <path d="M4.5 6.5 19.5 17.5" stroke="currentColor" stroke-width="1.9" stroke-linecap="round"/>
            <path d="M19.5 6.5 4.5 17.5" stroke="currentColor" stroke-width="1.9" stroke-linecap="round"/>
            <path d="M12 2 9.8 4.2M12 2l2.2 2.2" stroke="currentColor" stroke-width="1.9" stroke-linecap="round"/>
            <path d="M12 22l-2.2-2.2M12 22l2.2-2.2" stroke="currentColor" stroke-width="1.9" stroke-linecap="round"/>
            <path d="M4.5 6.5 7.4 6.9M4.5 6.5l1.2 2.7" stroke="currentColor" stroke-width="1.9" stroke-linecap="round"/>
            <path d="M19.5 6.5l-2.9.4M19.5 6.5l-1.2 2.7" stroke="currentColor" stroke-width="1.9" stroke-linecap="round"/>
            <path d="M4.5 17.5l2.9-.4M4.5 17.5l1.2-2.7" stroke="currentColor" stroke-width="1.9" stroke-linecap="round"/>
            <path d="M19.5 17.5l-2.9-.4M19.5 17.5l-1.2-2.7" stroke="currentColor" stroke-width="1.9" stroke-linecap="round"/>
          </svg>
        </button>
        <a class="nav-link" href="{% url 'login' %}">Log In</a>
        <a class="btn btn-primary" href="{% url 'register' %}">Sign Up</a>
      </div>
    </div>

    <div class="hero" id="top">
      <div class="hero-inner">


        <h1 class="title" style="margin-top:16px; font-size: clamp(48px, 6vw, 92px);">
          Snowglass
          <span style="display:block; font-size: clamp(30px, 3.2vw, 44px); letter-spacing:-.9px; line-height:1.05; margin-top:12px; margin-bottom:8px; color: rgba(255,255,255,.88); -webkit-text-fill-color: initial; background: none;">
            A calm calendar for busy lives.
          </span>
        </h1>
          <br>

        <a class="scroll-cue" href="#auth" aria-label="Scroll to sign in">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
            <path d="M12 5v12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            <path d="M7 13l5 5 5-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </a>
      </div>
    </div>

    <div class="section" id="auth" style="margin-top:0; padding-bottom: 22px;">
      <div class="auth-card">
        <div class="auth-grid">
          <div>
            <h2 class="auth-title">Sign in to Snowglass</h2>
            <p class="auth-sub">Use Google for one-tap sign-in, or continue with email. If your email isn’t verified yet, we’ll guide you through it.</p>
          </div>

          <div class="auth-actions">
            <a class="btn btn-google" href="{% provider_login_url 'google' %}">
              <svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path fill="#FFC107" d="M43.611 20.083H42V20H24v8h11.303C33.656 32.655 29.166 36 24 36c-6.627 0-12-5.373-12-12s5.373-12 12-12c3.059 0 5.842 1.154 7.957 3.043l5.657-5.657C34.999 6.053 29.768 4 24 4 12.955 4 4 12.955 4 24s8.955 20 20 20 20-8.955 20-20c0-1.341-.138-2.651-.389-3.917z"/>
                <path fill="#FF3D00" d="M6.306 14.691l6.571 4.819C14.655 15.108 18.961 12 24 12c3.059 0 5.842 1.154 7.957 3.043l5.657-5.657C34.999 6.053 29.768 4 24 4 16.318 4 9.656 8.337 6.306 14.691z"/>
                <path fill="#4CAF50" d="M24 44c5.065 0 9.197-1.947 12.513-5.119l-5.789-4.898C28.77 35.339 26.49 36 24 36c-5.144 0-9.517-3.296-11.214-7.897l-6.52 5.02C9.57 39.556 16.31 44 24 44z"/>
                <path fill="#1976D2" d="M43.611 20.083H42V20H24v8h11.303a12.05 12.05 0 0 1-4.579 5.983l.002-.001 5.789 4.898C36.106 39.07 44 34 44 24c0-1.341-.138-2.651-.389-3.917z"/>
              </svg>
              Continue with Google
            </a>

            <a class="btn btn-secondary" href="{% url 'login' %}">
              <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" style="width:16px;height:16px;">
                <path d="M4 6.5h16v11H4v-11Z" stroke="currentColor" stroke-width="2" stroke-linejoin="round"/>
                <path d="m4 7 8 6 8-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Continue with email
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Snow toggle: supports window.Snow API if present
    const LS_KEY = "snow_enabled";

    function setSnowBtn(on){
      const btn = document.getElementById("snowToggleBtn");
      if(!btn) return;
      btn.classList.toggle("is-on", !!on);
      btn.classList.toggle("is-off", !on);
    }

    function getStored(){
      const v = localStorage.getItem(LS_KEY);
      return v === null ? true : v === "1";
    }

    function store(v){ localStorage.setItem(LS_KEY, v ? "1" : "0"); }

    document.addEventListener("DOMContentLoaded", () => {
      const btn = document.getElementById("snowToggleBtn");
      if(!btn) return;

      const initial = getStored();
      if (window.Snow && typeof window.Snow.setEnabled === "function") {
        window.Snow.setEnabled(initial);
        setSnowBtn(window.Snow.isEnabled());
      } else {
        store(initial);
        setSnowBtn(initial);
      }

      btn.addEventListener("click", () => {
        let enabled;
        if (window.Snow && typeof window.Snow.toggle === "function") {
          enabled = window.Snow.toggle();
        } else {
          enabled = !getStored();
          store(enabled);
        }
        setSnowBtn(enabled);
      });
    });
  </script>
</body>
</html>